{
  "title": "결제 금액 합산 add 함수 테스트",
  "function_signature": "def add(amount_a: int, amount_b: int) -> int:",
  "golden_code": "def add(amount_a: int, amount_b: int) -> int:\n    \"\"\"Return the arithmetic sum of two integer amounts.\n\n    This helper is used to aggregate signed integer adjustments in a billing system\n    (e.g., base charge + discount, or refund adjustments). Negative values are valid\n    and must be added normally.\n\n    Args:\n        amount_a: First signed integer amount.\n        amount_b: Second signed integer amount.\n\n    Returns:\n        The arithmetic sum (amount_a + amount_b).\n\n    Notes:\n        - Negative values are allowed.\n        - Zero should behave normally.\n        - This function is intentionally simple and should be deterministic.\n    \"\"\"\n    return amount_a + amount_b\n",
  "buggy_implementations": [
    {
      "bug_description": "음수가 포함되면 절댓값으로 바꿔 더해버림(예: -3 + 1을 4로 계산). 양수만 테스트하면 통과할 수 있어 positive/negative 값 파티션 테스트가 필요함.",
      "buggy_code": "def add(amount_a: int, amount_b: int) -> int:\n    \"\"\"Buggy: sums absolute values instead of signed integers when negatives appear.\"\"\"\n    if amount_a < 0 or amount_b < 0:\n        return abs(amount_a) + abs(amount_b)\n    return amount_a + amount_b\n",
      "weight": 5
    },
    {
      "bug_description": "두 값의 부호가 다르면 뺄셈으로 처리함(예: 10 + (-3)을 7이 아니라 13으로 계산). 양수/음수 조합(positive+negative) 테스트로 잡을 수 있음.",
      "buggy_code": "def add(amount_a: int, amount_b: int) -> int:\n    \"\"\"Buggy: handles mixed-sign inputs as subtraction in the wrong direction.\"\"\"\n    if (amount_a >= 0 > amount_b) or (amount_b >= 0 > amount_a):\n        return amount_a - amount_b\n    return amount_a + amount_b\n",
      "weight": 4
    },
    {
      "bug_description": "음수+음수는 0으로 잘못 고정 반환함(예: -2 + -5 -> 0). 음수 영역 테스트(negative partition)와 기본적인 assert로 탐지 가능.",
      "buggy_code": "def add(amount_a: int, amount_b: int) -> int:\n    \"\"\"Buggy: returns 0 for two negative inputs.\"\"\"\n    if amount_a < 0 and amount_b < 0:\n        return 0\n    return amount_a + amount_b\n",
      "weight": 3
    },
    {
      "bug_description": "한쪽이 0이면 다른 값을 반환하지 않고 0을 반환함(예: 0 + 5 -> 0). 기본 테스트(0 처리)로 쉽게 탐지 가능.",
      "buggy_code": "def add(amount_a: int, amount_b: int) -> int:\n    \"\"\"Buggy: incorrectly treats any zero operand as making the result zero.\"\"\"\n    if amount_a == 0 or amount_b == 0:\n        return 0\n    return amount_a + amount_b\n",
      "weight": 2
    }
  ],
  "description_md": "## 문제 설명\n\n결제/정산 시스템에서는 여러 금액 조정값을 합산하는 작은 유틸리티 함수가 자주 사용됩니다. 예를 들어, **기본 결제 금액 + 할인(음수) + 추가 과금(양수)** 같은 값들을 합쳐 최종 금액을 계산해야 합니다.\n\n이 문제에서는 두 정수 금액을 더하는 `add` 함수가 주어집니다. 구현에는 의도적인 버그가 숨어 있을 수 있으므로, 수험자는 `pytest`로 테스트를 작성해 최대한 많은 버그를 찾아내야 합니다.\n\n### 함수 역할\n- 함수명: `add`\n- 입력:\n  - `amount_a: int` 첫 번째 정수 금액(음수 가능)\n  - `amount_b: int` 두 번째 정수 금액(음수 가능)\n- 출력:\n  - `int`: 두 값의 산술 덧셈 결과\n\n### 정상 동작 예시\n- `add(10, 5) -> 15`\n- `add(10, -3) -> 7`\n\n### 테스트 힌트(아이디어)\n- **양수 + 양수**, **음수 + 음수**, **양수 + 음수** 조합을 각각 테스트해 보세요. (값의 부호에 따른 파티션)\n- `0`이 포함되는 케이스도 고려해 보세요.\n- 테스트는 단순한 assert 기반으로도 충분하지만, 케이스를 늘리기 위해 `pytest.mark.parametrize`를 사용해도 좋습니다.\n\n### 수험자가 해야 할 일\n- `pytest` 기반 테스트 코드를 작성하여, 주어진 `add` 함수 구현들 중 버그가 있는 구현을 최대한 많이 실패(fail)시키세요.\n- 올바른 구현(golden behavior)은 통과(pass)해야 합니다.\n",
  "initial_test_template": "import pytest\nfrom target import add\n\n\ndef test_add_positive_values():\n    # TODO (basic testing): 양수 + 양수 기본 덧셈 케이스를 여러 개 확인하세요.\n    # 예: 작은 수, 큰 수 등\n    pass\n\n\ndef test_add_negative_values():\n    # TODO (positive/negative values): 음수 + 음수 케이스를 확인하세요.\n    # 예: -1 + -1, -10 + -3 등\n    pass\n\n\ndef test_add_mixed_sign_values():\n    # TODO (positive/negative values): 양수 + 음수(또는 음수 + 양수) 조합을 확인하세요.\n    # 예: 10 + (-3), (-3) + 10, 1 + (-1) 등\n    pass\n\n\ndef test_add_with_zero():\n    # TODO (basic testing): 0이 포함될 때도 정상적으로 더해지는지 확인하세요.\n    # 예: 0 + 5, 5 + 0, 0 + (-5)\n    pass\n",
  "tags": [
    "very easy",
    "unit-test",
    "pytest",
    "basic testing",
    "positive/negative values",
    "integer",
    "billing"
  ],
  "difficulty": "Very Easy",
  "problem_id": "VE01"
}