{
  "function_signature": "def is_valid_age(age: int) -> bool:",
  "golden_code": "def is_valid_age(age: int) -> bool:\n    \"\"\"Validate whether the given age is within an allowed human age range.\n\n    A valid age is an integer from 0 to 150 inclusive.\n\n    Parameters\n    ----------\n    age: int\n        Age in whole years.\n\n    Returns\n    -------\n    bool\n        True if 0 <= age <= 150, otherwise False.\n    \"\"\"\n    return 0 <= age <= 150\n",
  "buggy_implementations": [
    {
      "bug_description": "하한 경계 off-by-one 버그: age가 0일 때 False를 반환해야 하는 것으로 잘못 구현됨 (0이 유효하지 않은 나이로 처리됨).",
      "buggy_code": "def is_valid_age(age: int) -> bool:\n    \"\"\"Incorrectly validates ages: age 0 is treated as invalid.\n\n    Intended spec: valid ages are integers from 0 to 150 inclusive.\n    Actual behavior: requires age to be strictly greater than 0.\n    \"\"\"\n    return 0 < age <= 150\n",
      "weight": 4
    },
    {
      "bug_description": "상한 경계 off-by-one 버그: age가 150일 때 False를 반환하는 잘못된 구현 (150이 유효하지 않은 나이로 처리됨).",
      "buggy_code": "def is_valid_age(age: int) -> bool:\n    \"\"\"Incorrectly validates ages: age 150 is treated as invalid.\n\n    Intended spec: valid ages are integers from 0 to 150 inclusive.\n    Actual behavior: requires age to be strictly less than 150.\n    \"\"\"\n    return 0 <= age < 150\n",
      "weight": 4
    },
    {
      "bug_description": "논리 연산자 오류: 대부분의 정수에 대해 True를 반환하는 버그. 예를 들어 -5나 200 같이 명백히 범위를 벗어난 값도 True가 됨.",
      "buggy_code": "def is_valid_age(age: int) -> bool:\n    \"\"\"Incorrectly validates ages due to wrong logical operator.\n\n    Intended spec: valid ages are integers from 0 to 150 inclusive.\n    Actual behavior: uses `age >= 0 or age <= 150`, which is True for almost all integers.\n    \"\"\"\n    return age >= 0 or age <= 150\n",
      "weight": 3
    },
    {
      "bug_description": "유효 범위 상한을 150이 아닌 120으로 잘못 설정하여 121~150 나이를 모두 유효하지 않은 것으로 처리하는 버그.",
      "buggy_code": "def is_valid_age(age: int) -> bool:\n    \"\"\"Incorrect upper limit: ages above 120 are considered invalid.\n\n    Intended spec: valid ages are integers from 0 to 150 inclusive.\n    Actual behavior: only ages from 0 to 120 inclusive are accepted.\n    \"\"\"\n    return 0 <= age <= 120\n",
      "weight": 3
    }
  ],
  "description_md": "## 문제 설명\n\n한 가입 서비스에서 사용자의 나이를 검증하는 공통 유틸리티 함수를 만들었습니다. 이 함수는 **0세 이상 150세 이하**의 정수 나이만을 유효한 값으로 인정해야 하며, 이 범위를 벗어나면 유효하지 않은 나이로 간주해야 합니다.\n\n당신의 역할은 이 나이 검증 함수에 대해 **pytest 기반 단위 테스트**를 작성하여, 잘못 구현된 버전들을 찾아내는 것입니다. 이 문제는 특히 **경계값 분석(boundary value analysis)** 과 **edge case 테스트 설계 능력**을 평가하기 위해 만들어졌습니다.\n\n---\n\n### 함수 설명\n\n```python\nis_valid_age(age: int) -> bool\n```\n\n- **입력**\n  - `age`: 정수형 나이 (나이의 단위는 \"만 나이\"라고 가정하되, 여기서는 단순히 정수 범위만 검증합니다.)\n- **반환값**\n  - `True`: 나이가 0 이상 150 이하인 경우 (두 값 모두 포함, inclusive)\n  - `False`: 그 외의 모든 경우 (예: 음수, 151 이상 등)\n\n이 함수는 타입 검증이나 형 변환을 수행하지 않고, 전달받은 정수값이 유효 범위에 있는지만 검사한다고 가정합니다.\n\n---\n\n### 정상 동작 예시\n\n아래는 **정상 동작해야 하는 예시**입니다.\n\n- `is_valid_age(0) -> True`  (하한 경계 포함)\n- `is_valid_age(30) -> True` (일반적인 유효 값)\n- `is_valid_age(150) -> True` (상한 경계 포함)\n- `is_valid_age(-1) -> False` (하한 바로 아래 값)\n- `is_valid_age(151) -> False` (상한 바로 위 값)\n\n실제 서비스에서는 이 함수 결과에 따라 회원 가입 가능 여부를 결정하게 되므로, **경계 근처 값들을 정확히 검증하는 것**이 매우 중요합니다.\n\n---\n\n### 테스트에서 고려해야 할 사항 (힌트)\n\n다음과 같은 테스트 아이디어를 활용해 보세요.\n\n1. **경계값 분석 (Boundary Value Analysis)**\n   - 하한/상한 및 그 주변 값들을 집중적으로 테스트해 보세요.\n   - 예: `-1`, `0`, `1`, `149`, `150`, `151` 등\n2. **Edge Case / 극단 값**\n   - 매우 큰 양수나 매우 작은 음수 등, 일반적으로 잘 테스트하지 않는 값들도 고려해 볼 수 있습니다.\n   - 예: `-10_000`, `10_000` 같은 값이 합리적으로 처리되는지 확인\n3. **대표 값 테스트**\n   - 범위 내의 일반적인 나이 값(예: 20, 65 등)과 범위 밖의 일반적인 값(예: -5, 200 등)을 각각 선택해 검증하세요.\n\n여러 개의 잘못된 구현이 준비되어 있으며, 어떤 구현은 하한/상한 경계를 잘못 처리하고, 어떤 구현은 범위 밖의 값을 제대로 거르지 못합니다. 최소한 위에서 언급한 경계값들을 포함하는 테스트를 작성하면, 대부분의 버그를 효과적으로 찾아낼 수 있습니다.\n\n---\n\n### 수험자가 해야 할 일\n\n1. 제공된 `is_valid_age` 함수를 `from target import is_valid_age` 형태로 import 합니다.\n2. `pytest`를 사용하여 단위 테스트 파일을 작성합니다.\n3. **경계값 분석**과 **edge case 테스트**를 활용하여, 가능한 한 많은 잘못된 구현이 테스트에 실패하도록 만드세요.\n4. 단순한 정상 케이스뿐 아니라, 범위의 바로 안쪽/바깥쪽 값들을 꼭 포함하여 테스트를 설계하세요.\n\n당신의 테스트 코드는 여러 버전의 `is_valid_age`에 대해 실행되며, 얼마나 많은 버그 구현을 잡아내는지에 따라 점수가 결정됩니다.\n",
  "initial_test_template": "import pytest\n\nfrom target import is_valid_age\n\n\n# 기본 동작 및 전형적인 유효/무효 값을 다루는 테스트\n# TODO: 범위 내의 대표 값(예: 20, 65 등)과 범위 밖의 대표 값(예: -5, 200 등)을 포함하여 테스트를 작성하세요.\n\ndef test_typical_values():\n    pass\n\n\n# 경계값 분석: 하한/상한 및 그 주변 값들에 대한 테스트\n# TODO: 나이 값 예시: -1, 0, 1, 149, 150, 151 등을 사용해\n#       각 값이 스펙(0 이상 150 이하)에 따라 올바르게 처리되는지 확인하는 테스트를 작성하세요.\n\ndef test_boundary_values():\n    pass\n\n\n# Edge case: 매우 큰 수나 매우 작은 수 등 극단적인 값을 다루는 테스트\n# TODO: 아주 큰 양수/음수(예: -10_000, 10_000 등)를 포함하여,\n#       범위를 크게 벗어나는 값에 대해서도 일관된 결과가 나오는지 확인하는 테스트를 작성하세요.\n\ndef test_extreme_values():\n    pass\n",
  "tags": [
    "easy",
    "boundary value analysis",
    "edge cases",
    "integer-range",
    "age-validation",
    "unit-test",
    "pytest",
    "qa"
  ],
  "difficulty": "Easy",
  "strong_test_code": "import pytest\nfrom target import is_valid_age\n\n\ndef test_boundary_values():\n    # 경계값 - off-by-one 버그 잡기\n    assert is_valid_age(0) is True      # 하한 경계 포함\n    assert is_valid_age(150) is True    # 상한 경계 포함\n    assert is_valid_age(-1) is False    # 하한 바로 아래\n    assert is_valid_age(151) is False   # 상한 바로 위\n\n\ndef test_typical_valid_ages():\n    assert is_valid_age(1) is True\n    assert is_valid_age(30) is True\n    assert is_valid_age(149) is True\n\n\ndef test_upper_limit_120_bug():\n    # 상한 120 버그 잡기 (121~150이 유효해야 함)\n    assert is_valid_age(121) is True\n    assert is_valid_age(130) is True\n    assert is_valid_age(150) is True\n\n\ndef test_or_vs_and_bug():\n    # or 연산자 버그 잡기 (범위 밖 값이 False여야 함)\n    assert is_valid_age(-100) is False\n    assert is_valid_age(200) is False\n    assert is_valid_age(-10000) is False\n"
}